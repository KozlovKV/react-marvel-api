"use strict";(self.webpackChunkmarvel_universe=self.webpackChunkmarvel_universe||[]).push([[788],{3957:function(t,e,n){n.d(e,{Z:function(){return s}});var r=n.p+"static/media/Avengers.4065c8f9c94e3d8b039a.png",a=n.p+"static/media/Avengers_logo.9eaf219344d83362e830.png",c=n(184);function s(t){return(0,c.jsxs)("div",{className:"app__banner",children:[(0,c.jsx)("img",{src:r,alt:"Avengers"}),(0,c.jsxs)("div",{className:"app__banner-text",children:["New comics every week!",(0,c.jsx)("br",{}),"Stay tuned!"]}),(0,c.jsx)("img",{src:a,alt:"Avengers logo"})]})}},9613:function(t,e,n){n.d(e,{Z:function(){return c}});var r=n.p+"static/media/error.42292aa12b6bc303ce99.gif",a=n(184);function c(){return(0,a.jsx)("img",{src:r,alt:"Error gif"})}},5913:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var r=n(6871),a=n(4925),c=n(8683),s=n(885),i=n(2791),u=n(3504),o=n(4270),l=n(4304),p=n(725),f=n(184),d=["pageCount","language","price"],h=(0,p.Z)();function m(t){var e=t.itemId,n=t.dataType,r=(0,l.ZP)(),a=r.processState,u=r.setProcessState,o=r.getComic,p={char:{getData:r.getCharacter,DataBlock:x},comic:{getData:o,DataBlock:v}},d=(0,i.useState)(null),m=(0,s.Z)(d,2),g=m[0],j=m[1];(0,i.useEffect)((function(){p[n].getData(e).then(j).then((function(){return u("success")}))}),[e]);var b=p[n].DataBlock;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(h,{state:a,children:(0,f.jsx)(b,(0,c.Z)({},g))})})}function g(t){var e=t.thumbnail,n=t.title,r=t.description,a=t.children,c=t.backPath;return(0,f.jsxs)("div",{className:"single-item",children:[(0,f.jsxs)(o.Z,{children:[(0,f.jsx)("meta",{name:"description",content:"All Marvel's comics"}),(0,f.jsx)("title",{children:n})]}),(0,f.jsx)("img",{src:e.url,alt:n,className:"single-item__img",style:e.style}),(0,f.jsxs)("div",{className:"single-item__info",children:[(0,f.jsx)("h2",{className:"single-item__name",children:n}),(0,f.jsx)("p",{className:"single-item__descr",children:r}),a]}),(0,f.jsx)(u.rU,{to:c,className:"single-item__back",children:"Back to all"})]})}function v(t){var e=t.pageCount,n=t.language,r=t.price,s=(0,a.Z)(t,d);return(0,f.jsxs)(g,(0,c.Z)((0,c.Z)({backPath:"/comics"},s),{},{children:[(0,f.jsx)(o.Z,{children:(0,f.jsx)("meta",{name:"description",content:"".concat(s.title," comic")})}),(0,f.jsxs)("p",{className:"single-item__descr",children:[e," pages"]}),(0,f.jsxs)("p",{className:"single-item__descr",children:["Language: ",n]}),(0,f.jsx)("div",{className:"single-item__price",children:r?"".concat(r,"$"):"Not available"})]}))}function x(t){return(0,f.jsx)(g,(0,c.Z)((0,c.Z)({backPath:"/chars",title:t.name},t),{},{children:(0,f.jsx)(o.Z,{children:(0,f.jsx)("meta",{name:"description",content:"".concat(t.name," character")})})}))}var j=n(3957);function b(){var t=(0,r.UO)(),e=(0,r.TH)().pathname.match("char")?"char":"comic";return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(j.Z,{}),(0,f.jsx)(m,{itemId:t.id,dataType:e})]})}},725:function(t,e,n){n.d(e,{Z:function(){return o}});var r=n(4925),a=n(8683),c=n(3394),s=n(9613),i=n(184),u=["state"];function o(t){var e=(0,a.Z)({waiting:function(){},loading:function(){return(0,i.jsx)(c.Z,{})},error:function(){return(0,i.jsx)(s.Z,{})},fetched:function(){},success:function(t){var e=t.children;return(0,i.jsx)(i.Fragment,{children:e})}},t);return function(t){var n=t.state,a=(0,r.Z)(t,u);return e[n](a)}}},4304:function(t,e,n){n.d(e,{TL:function(){return l},Ke:function(){return p},zZ:function(){return d},lX:function(){return h},ZP:function(){return u}});var r=n(5861),a=n(7757),c=n.n(a),s=n(885),i=n(2791);function u(){var t="https://gateway.marvel.com:443/v1/public",e="apikey=d840bc106aeea955689856e89bb25220",n=function(){var t=(0,i.useState)(!1),e=(0,s.Z)(t,2),n=e[0],a=e[1],u=(0,i.useState)(!1),o=(0,s.Z)(u,2),l=o[0],p=o[1],f=(0,i.useState)("waiting"),d=(0,s.Z)(f,2),h=d[0],m=d[1],g=(0,i.useCallback)(function(){var t=(0,r.Z)(c().mark((function t(e){var n,r,s,i,u,o=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"GET",r=o.length>2&&void 0!==o[2]?o[2]:null,s=o.length>3&&void 0!==o[3]?o[3]:{"Content-Type":"application/json"},a(!0),p(!1),m("loading"),t.next=8,fetch(e,{method:n,body:r,headers:s});case 8:if((i=t.sent).ok){t.next=14;break}throw a(!1),p(!0),m("error"),new Error("Can't fetch url ".concat(e,", error ").concat(i.status,": ").concat(i.statusText));case 14:return t.next=16,i.json();case 16:return u=t.sent,a(!1),p(!1),m("fetched"),t.abrupt("return",u);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[]);return{loading:n,error:l,processState:h,setProcessState:m,request:g}}(),a=n.loading,u=n.error,g=n.processState,x=n.setProcessState,j=n.request;function b(t,e){return Z.apply(this,arguments)}function Z(){return(Z=(0,r.Z)(c().mark((function n(r,a){var s,i,u;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(i in s=[e],a)s.push("".concat(i,"=").concat(a[i]));return u="".concat(t,"/").concat(r,"?").concat(s.join("&")),n.abrupt("return",j(u));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function y(){return y=(0,r.Z)(c().mark((function t(e){var n,r,a,s=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(n=s.length>1&&void 0!==s[1]?s[1]:9)<=o?n:o,r=(r=l+e)<=p?r:p,t.next=6,b("characters",{limit:n,offset:r});case 6:return a=t.sent,t.abrupt("return",a.data.results.map(w));case 8:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}function k(){return(k=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b("characters",{nameStartsWith:e,limit:100});case 2:return n=t.sent,t.abrupt("return",n.data.results.map(w));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(){return(_=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b("characters/".concat(e));case 2:return n=t.sent,t.abrupt("return",w(n.data.results[0]));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t){var e=t.id,n=t.name,r=t.urls,a=t.comics,c=v(t.thumbnail),s=r[0].url,i=r[1].url,u=t.description?t.description:"Description not found";return{id:e,name:n,description:u,thumbnail:c,homepageUrl:s,wikiUrl:i,shortedDescription:m(u),comics:a.items}}function C(){return C=(0,r.Z)(c().mark((function t(e){var n,r,a,s=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(n=s.length>1&&void 0!==s[1]?s[1]:8)<=f?n:f,r=(r=d+e)<=h?r:h,t.next=6,b("comics",{limit:n,offset:r});case 6:return a=t.sent,t.abrupt("return",a.data.results.map(S));case 8:case"end":return t.stop()}}),t)}))),C.apply(this,arguments)}function N(){return(N=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b("comics/".concat(e));case 2:return n=t.sent,t.abrupt("return",S(n.data.results[0]));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t){var e=t.id,n=t.title,r=t.pageCount,a=v(t.thumbnail),c=t.prices[0].price,s=t.description?t.description:"Description not found";return{id:e,title:n,pageCount:r,price:c,description:s,thumbnail:a,shortedDescription:m(s),language:t.textObjects.language||"en-us"}}return{loading:a,error:u,processState:g,setProcessState:x,getCharacter:function(t){return _.apply(this,arguments)},getCharacters:function(t){return y.apply(this,arguments)},getCharactersByNamePart:function(t){return k.apply(this,arguments)},getComic:function(t){return N.apply(this,arguments)},getComics:function(t){return C.apply(this,arguments)}}}var o=100,l=210,p=1561,f=100,d=0,h=1561;function m(t){if(t.length<=190)return t;var e=t.split(" "),n=0,r=0;return e.forEach((function(t,e){n+t.length<=190&&e-r<=1&&(n+=t.length,r=e)})),e.slice(0,r).join(" ")+"\u2026"}var g=["4c002e0305708","image_not_available"];function v(t){var e={url:t.path+"."+t.extension,style:{}};return g.some((function(e){return t.path.indexOf(e)>-1}))&&(e.style.objectFit="contain"),e}}}]);
//# sourceMappingURL=788.4665e715.chunk.js.map